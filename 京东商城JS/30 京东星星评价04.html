<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>京东星星评价04- 使用2个span 来组合，通过更改宽度来显示星星</title>

    <style>
        * {
            padding: 0px;
            margin: 0px;
        }

        .box {
            height: 180px;
            width: 230px;
            margin: 150px auto;
            border: 2px solid #ccc;
            font-size: 0;
            /* 子绝父相 */
            /* position:relative; */
        }

        .box span {
            display: inline-block;
            height: 16px;
            cursor: pointer;
        }

        .box .star01,.star02,.star03,.star04,.star05 {
            width: 16px;
            background: url('../京东商城JS/images/commstar.png');
            background-position: 0 0;
        }

        .box .star06 {
            /* width: 80px; */
            background: url('../京东商城JS/images/commstar.png');
            background-position: 0 -16px; 

            /* 子绝父相 */
            /* position: absolute;
            top: 0px;
            left: 80px; */
        }



    </style>

    <script>

        // 时间：2019/1/7 18：36分
        // 1.这里的问题是原本 star06 在 star01~star05的下面，当用户点击之后 "star06" 在最上面，所以用户再次点击的时候，实际上点击的是 star06 而不是 star01~05,所以不会变 

        window.onload=function(){
            var obj_star06=document.getElementById("star06");
            var obj_spans=document.getElementById("box").getElementsByTagName("span");

            for (var i = 0; i < obj_spans.length; i++) {
                obj_spans[i].index = i + 1;
                if(i<5)
                {    
                    obj_spans[i].onclick=function(){
                        alert(this.index);
                        obj_star06.style.width = "0px";
                        obj_star06.style.width= 16 * this.index + "px";
                    }
                }
            }
        }


    </script>


</head>

<body>
    <div class="box" id="box">
        <span class="star01"></span>
        <span class="star02"></span>
        <span class="star03"></span>
        <span class="star04"></span>
        <span class="star05"></span>
    </br>
        <span class="star06" id="star06"></span>
    </div>

</body>

</html>